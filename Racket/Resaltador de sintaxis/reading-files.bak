;; The first three lines of this file were inserted by DrRacket. They record metadata
;; about the language level of this file in a form that our tools can easily process.
#reader(lib "htdp-advanced-reader.ss" "lang")((modname reading-files) (read-case-sensitive #t) (teachpacks ()) (htdp-settings #(#t constructor repeating-decimal #t #t none #f () #f)))
(require 2htdp/batch-io)
(require 

;;https://docs.racket-lang.org/teachpack/2htdpbatch-io.html#%28def._%28%28lib._2htdp%2Fbatch-io..rkt%29._write-file%29%29
;;https://docs.racket-lang.org/reference/characters.html

(define input-file "D:\\workspace\\scheme-files\\test.cpp")

(define output-file "D:\\workspace\\scheme-files\\test2.cpp")

(define (flatten lists)
   (foldr append empty lists))

;;(string-downcase str)
(define file->list-of-chars
  (lambda (filename)
    (flatten
     (map string->list
          (read-1strings filename)))))

;;(define input-characters (file->list-of-chars input-file))

(define list-of-chars->file
  (lambda (lst filename)
    (write-file filename (list->string lst))))

(define copy-and-upcase
  (lambda (input-file output-file)
    (list-of-chars->file
     (map char-upcase (file->list-of-chars input-file))
     output-file)))

;; (map char-upcase (file->list-of-chars input-file))